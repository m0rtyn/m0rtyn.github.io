<!DOCTYPE html>
<html 
  lang="en" 
  style="background-color: #000;"
>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>m0rtyn.cc</title>

  <!-- Preload critical resources -->
  <link rel="preload" href="styles/main.css" as="style">
  <link rel="preload" href="components/link-card/index.js" as="script" crossorigin>
  <link rel="preload" href="components/site-logo/index.js" as="script" crossorigin>

  <!-- Styles -->
  <link rel="stylesheet" href="styles/main.css">

  <!-- Web Components -->
  <script type="module" src="components/link-card/index.js"></script>
  <script type="module" src="components/site-logo/index.js"></script>
</head>
<body>
  <canvas id="background-canvas"></canvas>

  <div class="container">
    <header class="header">
      <site-logo></site-logo>
      <nav class="lang-switcher">
        <button id="lang-en" class="active" data-lang="en">EN</button>
        <button id="lang-ru" data-lang="ru">RU</button>
      </nav>
    </header>

    <main class="main-content">
      <!-- English Section -->
      <section id="links-en" class="links-section active">
        <link-card
          title="Blog"
          description="Thoughts on PKMs, personal notes, and more."
          link="https://blog.m0rtyn.cc"
          icon="âœ’ï¸"
        ></link-card>
        <link-card
          title="Pokoy App"
          description="Minimalist meditation timer."
          link="https://pokoy.m0rtyn.cc"
          icon="ðŸ§˜"
        ></link-card>
        <link-card
          title="Skuka App"
          description="Unleash your creativity by practicing intentional boredom."
          link="https://skuka.m0rtyn.cc"
          icon="ðŸ˜‘"
        ></link-card>
        <link-card
          title="CV"
          description="My professional experience and skills."
          link="https://cv.m0rtyn.cc"
          icon="ðŸ“„"
        ></link-card>
        <link-card
          title="Martynak"
          description="Keyboard layout for those who hate QWERTY."
          link="https://martynak.m0rtyn.cc"
          icon="âŒ¨ï¸"
        ></link-card>
        <link-card
          title="Talks Playlist"
          description="My talks and presentations."
          link="https://talks.m0rtyn.cc"
          icon="ðŸŽ¤"
        ></link-card>
        <link-card
          title="Path of Mastery"
          description="Create skill trees inspired by Path of Exile for your personal growth."
          link="https://pom.m0rtyn.cc"
          icon="ðŸŒ³"
        ></link-card>
        <link-card
          title="Rogue Tasker"
          description="Todo app with roguelike mechanics inspired by Balatro and Binding of Isaac."
          link="https://rogue.m0rtyn.cc"
          icon="ðŸŽ²"
        ></link-card>
      </section>

      <!-- Russian Section -->
      <section id="links-ru" class="links-section">
        <link-card
          title="Ð‘Ð»Ð¾Ð³"
          description="ÐœÑ‹ÑÐ»Ð¸ Ð¾ Ð¿ÐµÑ€ÑÐ¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ñ… Ð·Ð½Ð°Ð½Ð¸ÑÑ…, Ð»Ð¸Ñ‡Ð½Ñ‹Ðµ Ð·Ð°Ð¼ÐµÑ‚ÐºÐ¸ Ð¸ Ð¿Ñ€Ð¾Ñ‡ÐµÐµ."
          link="https://blog.m0rtyn.cc"
          icon="âœ’ï¸"
        ></link-card>
        <link-card
          title="ÐŸÑ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ ÐŸÐ¾ÐºÐ¾Ð¹"
          description="ÐœÐ¸Ð½Ð¸Ð¼Ð°Ð»Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ñ‹Ð¹ Ñ‚Ð°Ð¹Ð¼ÐµÑ€ Ð´Ð»Ñ Ð¼ÐµÐ´Ð¸Ñ‚Ð°Ñ†Ð¸Ð¸."
          link="https://pokoy.m0rtyn.cc"
          icon="ðŸ§˜"
        ></link-card>
        <link-card
          title="ÐŸÑ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ð¡ÐºÑƒÐºÐ°"
          description="ÐžÑÐ²Ð¾Ð±Ð¾Ð´Ð¸ ÑÐ²Ð¾ÑŽ ÐºÑ€ÐµÐ°Ñ‚Ð¸Ð²Ð½Ð¾ÑÑ‚ÑŒ Ð¿Ñ€Ð°ÐºÑ‚Ð¸ÐºÑƒÑ Ð½Ð°Ð¼ÐµÑ€ÐµÐ½Ð½ÑƒÑŽ ÑÐºÑƒÐºÑƒ."
          link="https://skuka.m0rtyn.cc"
          icon="ðŸ˜‘"
        ></link-card>
        <link-card
          title="Ð ÐµÐ·ÑŽÐ¼Ðµ"
          description="ÐœÐ¾Ð¹ Ð¿Ñ€Ð¾Ñ„ÐµÑÑÐ¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ð¾Ð¿Ñ‹Ñ‚ Ð¸ Ð½Ð°Ð²Ñ‹ÐºÐ¸."
          link="https://cv.m0rtyn.cc"
          icon="ðŸ“„"
        ></link-card>
        <link-card
          title="ÐœÐ°Ñ€Ñ‚Ñ‹Ð½Ð°Ðº"
          description="ÐšÐ»Ð°Ð²Ð¸Ð°Ñ‚ÑƒÑ€Ð½Ð°Ñ Ñ€Ð°ÑÐºÐ»Ð°Ð´ÐºÐ° Ð´Ð»Ñ Ñ‚ÐµÑ…, ÐºÐ¾Ð³Ð¾ Ð±ÐµÑÐ¸Ñ‚ QWERTY."
          link="https://martynak.m0rtyn.cc"
          icon="âŒ¨ï¸"
        ></link-card>
        <link-card
          title="ÐŸÐ»ÐµÐ¹Ð»Ð¸ÑÑ‚ Ð´Ð¾ÐºÐ»Ð°Ð´Ð¾Ð²"
          description="ÐœÐ¾Ð¸ Ð´Ð¾ÐºÐ»Ð°Ð´Ñ‹."
          link="https://talks.m0rtyn.cc"
          icon="ðŸŽ¤"
        ></link-card>
        <link-card
          title="Path of Mastery"
          description="Ð¡ÐµÑ€Ð²Ð¸Ñ Ð´Ð»Ñ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ Ð´ÐµÑ€ÐµÐ²ÑŒÐµÐ² Ñ€Ð°Ð·Ð²Ð¸Ñ‚Ð¸Ñ Ð²Ð´Ð¾Ñ…Ð½Ð¾Ð²Ð»Ñ‘Ð½Ð½Ñ‹Ñ… Passive Skill Tree Ð¸Ð· Path of Exile."
          link="https://pom.m0rtyn.cc"
          icon="ðŸŒ³"
        ></link-card>
        <link-card
          title="Rogue Tasker"
          description="Todo-Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ñ Ð¼ÐµÑ…Ð°Ð½Ð¸ÐºÐ°Ð¼Ð¸ Ð¸Ð· Ñ€Ð¾ÑƒÐ³Ð»Ð°Ð¹ÐºÐ¾Ð² Ð²Ñ€Ð¾Ð´Ðµ Balatro Ð¸ Binding of Isaac."
          link="https://rogue.m0rtyn.cc"
          icon="ðŸŽ²"
        ></link-card>
      </section>
    </main>
  </div>

  <!-- Language Switcher Logic -->
  <script>
    const LANG_STORAGE_KEY = 'm0rtyn_lang';

    const elements = {
      btnEn: document.getElementById('lang-en'),
      btnRu: document.getElementById('lang-ru'),
      sectionEn: document.getElementById('links-en'),
      sectionRu: document.getElementById('links-ru'),
    };

    const setLanguage = (lang) => {
      const isEn = lang === 'en';

      elements.sectionEn.classList.toggle('active', isEn);
      elements.sectionRu.classList.toggle('active', !isEn);
      elements.btnEn.classList.toggle('active', isEn);
      elements.btnRu.classList.toggle('active', !isEn);

      localStorage.setItem(LANG_STORAGE_KEY, lang);
    };

    // Initialize with saved preference or default to English
    setLanguage(localStorage.getItem(LANG_STORAGE_KEY) ?? 'en');

    elements.btnEn.addEventListener('click', () => setLanguage('en'));
    elements.btnRu.addEventListener('click', () => setLanguage('ru'));
  </script>

  <!-- Service Worker Registration -->
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/sw.js').catch(console.warn);
    }
  </script>

  <!-- Background Scripts -->
  <script src="assets/logo-randomizer.js" defer></script>
  <script src="assets/background-animation.js" defer></script>
</body>
</html>
